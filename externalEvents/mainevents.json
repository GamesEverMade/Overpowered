{
  "associatedLayout": "Tutorial",
  "name": "MainEvents",
  "events": [
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "DepartScene"
          },
          "parameters": [
            ""
          ]
        }
      ],
      "actions": [
        {
          "type": {
            "value": "ResetObjectTimer"
          },
          "parameters": [
            "Player",
            "\"dashCooldown\""
          ]
        },
        {
          "type": {
            "value": "BuiltinExternalLayouts::CreateObjectsFromExternalLayout"
          },
          "parameters": [
            "",
            "\"MainLayout\"",
            "0",
            "0",
            "0"
          ]
        },
        {
          "type": {
            "value": "ChangeLayer"
          },
          "parameters": [
            "HealthBar",
            "\"HUD\""
          ]
        },
        {
          "type": {
            "value": "EffectCapability::EffectBehavior::EnableEffect"
          },
          "parameters": [
            "Player",
            "Effect",
            "\"Glow\"",
            "no"
          ]
        },
        {
          "type": {
            "value": "TiledUnitsBar::TiledUnitsBar::SetMaxValue"
          },
          "parameters": [
            "HealthBar",
            "=",
            "Player.Health::MaxHealth()",
            ""
          ]
        },
        {
          "type": {
            "value": "TiledUnitsBar::TiledUnitsBar::SetValue"
          },
          "parameters": [
            "HealthBar",
            "=",
            "Player.Health::Health()",
            ""
          ]
        },
        {
          "type": {
            "value": "PanelSpriteContinuousBar::PanelSpriteContinuousBar::SetMaxValue"
          },
          "parameters": [
            "AmmoBar",
            "=",
            "8",
            ""
          ]
        },
        {
          "type": {
            "value": "PanelSpriteContinuousBar::PanelSpriteContinuousBar::SetValue"
          },
          "parameters": [
            "AmmoBar",
            "=",
            "Player.FireBullet::AmmoQuantity()",
            ""
          ]
        },
        {
          "type": {
            "value": "Create"
          },
          "parameters": [
            "",
            "AttackHitbox",
            "0",
            "0",
            ""
          ]
        },
        {
          "type": {
            "value": "Create"
          },
          "parameters": [
            "",
            "BSODGun",
            "0",
            "0",
            ""
          ]
        },
        {
          "type": {
            "value": "Cache"
          },
          "parameters": [
            "AttackHitbox"
          ]
        },
        {
          "type": {
            "value": "ResetTimer"
          },
          "parameters": [
            "Player",
            "\"levelTimer\""
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [],
      "actions": [
        {
          "type": {
            "value": "TiledUnitsBar::TiledUnitsBar::SetValue"
          },
          "parameters": [
            "HealthBar",
            "=",
            "Player.Health::Health()",
            ""
          ]
        },
        {
          "type": {
            "value": "PanelSpriteContinuousBar::PanelSpriteContinuousBar::SetValue"
          },
          "parameters": [
            "AmmoBar",
            "=",
            "Player.FireBullet::AmmoQuantity()",
            ""
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "FireBullet::FireBullet::AmmoQuantity"
          },
          "parameters": [
            "Player",
            "FireBullet",
            "<",
            "8",
            ""
          ]
        },
        {
          "type": {
            "value": "BuiltinCommonInstructions::Once"
          },
          "parameters": []
        }
      ],
      "actions": [
        {
          "type": {
            "value": "ResetTimer"
          },
          "parameters": [
            "",
            "\"reloadTimer\""
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "CompareTimer"
          },
          "parameters": [
            "",
            "\"reloadTimer\"",
            ">=",
            "2"
          ]
        },
        {
          "type": {
            "value": "FireBullet::FireBullet::AmmoQuantity"
          },
          "parameters": [
            "Player",
            "FireBullet",
            "<",
            "8",
            ""
          ]
        }
      ],
      "actions": [
        {
          "type": {
            "value": "FireBullet::FireBullet::SetAmmoQuantityOp"
          },
          "parameters": [
            "Player",
            "FireBullet",
            "+",
            "1",
            ""
          ]
        },
        {
          "type": {
            "value": "ResetTimer"
          },
          "parameters": [
            "",
            "\"reloadTimer\""
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "inverted": true,
            "value": "CompareObjectTimer"
          },
          "parameters": [
            "Player",
            "\"attackTimer\"",
            ">=",
            "0.1"
          ]
        }
      ],
      "actions": [
        {
          "type": {
            "value": "SetCenter"
          },
          "parameters": [
            "AttackHitbox",
            "=",
            "Player.CenterX()",
            "=",
            "Player.CenterY()"
          ]
        },
        {
          "type": {
            "value": "RotateTowardPosition"
          },
          "parameters": [
            "AttackHitbox",
            "CursorX()",
            "CursorY()",
            "0",
            ""
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "inverted": true,
            "value": "CompareObjectTimer"
          },
          "parameters": [
            "Player",
            "\"attackTimer\"",
            ">=",
            "0.1"
          ]
        }
      ],
      "actions": [
        {
          "type": {
            "value": "SetCenter"
          },
          "parameters": [
            "BSODGun",
            "=",
            "Player.PointX(\"Weapon\")",
            "=",
            "Player.PointY(\"Weapon\")"
          ]
        },
        {
          "type": {
            "value": "RotateTowardPosition"
          },
          "parameters": [
            "BSODGun",
            "CursorX()",
            "CursorY()",
            "0",
            ""
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "CursorX"
          },
          "parameters": [
            "",
            ">",
            "Player.CenterX()",
            "",
            ""
          ]
        }
      ],
      "actions": [
        {
          "type": {
            "value": "FlippableCapability::FlippableBehavior::FlipY"
          },
          "parameters": [
            "BSODGun",
            "Flippable",
            "no"
          ]
        },
        {
          "type": {
            "value": "FlippableCapability::FlippableBehavior::FlipX"
          },
          "parameters": [
            "Player",
            "Flippable",
            "no"
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "CursorX"
          },
          "parameters": [
            "",
            "<=",
            "Player.CenterX()",
            "",
            ""
          ]
        }
      ],
      "actions": [
        {
          "type": {
            "value": "FlippableCapability::FlippableBehavior::FlipY"
          },
          "parameters": [
            "BSODGun",
            "Flippable",
            "yes"
          ]
        },
        {
          "type": {
            "value": "FlippableCapability::FlippableBehavior::FlipX"
          },
          "parameters": [
            "Player",
            "Flippable",
            "yes"
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "inverted": true,
            "value": "Gamepads::C_Button_pressed"
          },
          "parameters": [
            "",
            "1",
            "\"Y\"",
            ""
          ]
        },
        {
          "type": {
            "inverted": true,
            "value": "MouseButtonFromTextPressed"
          },
          "parameters": [
            "",
            "controls.keyAltAttack"
          ]
        }
      ],
      "actions": [
        {
          "type": {
            "value": "TopDownMovementBehavior::MaxSpeed"
          },
          "parameters": [
            "Player",
            "TopDownMovement",
            "=",
            "200"
          ]
        },
        {
          "type": {
            "value": "AnimatableCapability::AnimatableBehavior::SetSpeedScale"
          },
          "parameters": [
            "Player",
            "Animation",
            "=",
            "1"
          ]
        }
      ]
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "folded": true,
      "name": "Player Controls",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::Or"
              },
              "parameters": [],
              "subInstructions": [
                {
                  "type": {
                    "value": "KeyFromTextPressed"
                  },
                  "parameters": [
                    "",
                    "controls.keyRight"
                  ]
                },
                {
                  "type": {
                    "value": "Gamepads::C_Axis_pushed"
                  },
                  "parameters": [
                    "",
                    "1",
                    "\"Left\"",
                    "\"Right\"",
                    ""
                  ]
                }
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "TopDownMovementBehavior::SimulateRightKey"
              },
              "parameters": [
                "Player",
                "TopDownMovement"
              ]
            },
            {
              "type": {
                "value": "FlippableCapability::FlippableBehavior::FlipX"
              },
              "parameters": [
                "Player",
                "Flippable",
                "no"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::Or"
              },
              "parameters": [],
              "subInstructions": [
                {
                  "type": {
                    "value": "KeyFromTextPressed"
                  },
                  "parameters": [
                    "",
                    "controls.keyDown"
                  ]
                },
                {
                  "type": {
                    "value": "Gamepads::C_Axis_pushed"
                  },
                  "parameters": [
                    "",
                    "1",
                    "\"Left\"",
                    "\"Down\"",
                    ""
                  ]
                }
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "TopDownMovementBehavior::SimulateDownKey"
              },
              "parameters": [
                "Player",
                "TopDownMovement"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::Or"
              },
              "parameters": [],
              "subInstructions": [
                {
                  "type": {
                    "value": "KeyFromTextPressed"
                  },
                  "parameters": [
                    "",
                    "controls.keyLeft"
                  ]
                },
                {
                  "type": {
                    "value": "Gamepads::C_Axis_pushed"
                  },
                  "parameters": [
                    "",
                    "1",
                    "\"Left\"",
                    "\"Left\"",
                    ""
                  ]
                }
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "TopDownMovementBehavior::SimulateLeftKey"
              },
              "parameters": [
                "Player",
                "TopDownMovement"
              ]
            },
            {
              "type": {
                "value": "FlippableCapability::FlippableBehavior::FlipX"
              },
              "parameters": [
                "Player",
                "Flippable",
                "yes"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::Or"
              },
              "parameters": [],
              "subInstructions": [
                {
                  "type": {
                    "value": "KeyFromTextPressed"
                  },
                  "parameters": [
                    "",
                    "controls.keyUp"
                  ]
                },
                {
                  "type": {
                    "value": "Gamepads::C_Axis_pushed"
                  },
                  "parameters": [
                    "",
                    "1",
                    "\"Left\"",
                    "\"Up\"",
                    ""
                  ]
                }
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "TopDownMovementBehavior::SimulateUpKey"
              },
              "parameters": [
                "Player",
                "TopDownMovement"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "TopDownMovementBehavior::IsMoving"
              },
              "parameters": [
                "Player",
                "TopDownMovement"
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "AnimatableCapability::AnimatableBehavior::SetName"
              },
              "parameters": [
                "Player",
                "Animation",
                "=",
                "\"Walk\""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": true,
                "value": "TopDownMovementBehavior::IsMoving"
              },
              "parameters": [
                "Player",
                "TopDownMovement"
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "AnimatableCapability::AnimatableBehavior::SetName"
              },
              "parameters": [
                "Player",
                "Animation",
                "=",
                "\"Idle\""
              ]
            }
          ]
        },
        {
          "colorB": 228,
          "colorG": 176,
          "colorR": 74,
          "creationTime": 0,
          "name": "Dash",
          "source": "",
          "type": "BuiltinCommonInstructions::Group",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Or"
                  },
                  "parameters": [],
                  "subInstructions": [
                    {
                      "type": {
                        "value": "KeyFromTextPressed"
                      },
                      "parameters": [
                        "",
                        "controls.keyDash"
                      ]
                    },
                    {
                      "type": {
                        "value": "Gamepads::C_Button_pressed"
                      },
                      "parameters": [
                        "",
                        "1",
                        "\"B\"",
                        ""
                      ]
                    }
                  ]
                },
                {
                  "type": {
                    "inverted": true,
                    "value": "CompareObjectTimer"
                  },
                  "parameters": [
                    "Player",
                    "\"dashDuration\"",
                    ">=",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "CompareObjectTimer"
                  },
                  "parameters": [
                    "Player",
                    "\"dashCooldown\"",
                    ">=",
                    "1"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ActivateBehavior"
                  },
                  "parameters": [
                    "Player",
                    "TopDownMovement",
                    "no"
                  ]
                },
                {
                  "type": {
                    "value": "ResetObjectTimer"
                  },
                  "parameters": [
                    "Player",
                    "\"dashDuration\""
                  ]
                },
                {
                  "type": {
                    "value": "ResetObjectTimer"
                  },
                  "parameters": [
                    "Player",
                    "\"dashCooldown\""
                  ]
                },
                {
                  "type": {
                    "value": "AnimatableCapability::AnimatableBehavior::SetName"
                  },
                  "parameters": [
                    "Player",
                    "Animation",
                    "=",
                    "\"Dash\""
                  ]
                },
                {
                  "type": {
                    "value": "SetBooleanObjectVariable"
                  },
                  "parameters": [
                    "Player",
                    "isDashing",
                    "True",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CompareObjectTimer"
                  },
                  "parameters": [
                    "Player",
                    "\"dashDuration\"",
                    "<=",
                    "0.2"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "AddForceAL"
                  },
                  "parameters": [
                    "Player",
                    "Player.TopDownMovement::Angle()",
                    "700",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "Health::Health::SetChanceToDodgeOp"
                  },
                  "parameters": [
                    "Player",
                    "Health",
                    "=",
                    "100",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CompareObjectTimer"
                  },
                  "parameters": [
                    "Player",
                    "\"dashDuration\"",
                    ">",
                    "0.2"
                  ]
                },
                {
                  "type": {
                    "value": "CompareObjectTimer"
                  },
                  "parameters": [
                    "Player",
                    "\"dashDuration\"",
                    "<=",
                    "0.4"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "AddForceAL"
                  },
                  "parameters": [
                    "Player",
                    "Player.TopDownMovement::Angle()",
                    "400",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "Health::Health::SetChanceToDodgeOp"
                  },
                  "parameters": [
                    "Player",
                    "Health",
                    "=",
                    "0",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "AnimatableCapability::AnimatableBehavior::SetName"
                  },
                  "parameters": [
                    "Player",
                    "Animation",
                    "=",
                    "\"Main\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CompareObjectTimer"
                  },
                  "parameters": [
                    "Player",
                    "\"dashDuration\"",
                    ">=",
                    "0.4"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ActivateBehavior"
                  },
                  "parameters": [
                    "Player",
                    "TopDownMovement",
                    "yes"
                  ]
                },
                {
                  "type": {
                    "value": "SetBooleanObjectVariable"
                  },
                  "parameters": [
                    "Player",
                    "isDashing",
                    "False",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CompareObjectTimer"
                  },
                  "parameters": [
                    "Player",
                    "\"dashDuration\"",
                    ">=",
                    "0.6"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "RemoveObjectTimer"
                  },
                  "parameters": [
                    "Player",
                    "\"dashDuration\""
                  ]
                },
                {
                  "type": {
                    "value": "AnimatableCapability::AnimatableBehavior::SetName"
                  },
                  "parameters": [
                    "Player",
                    "Animation",
                    "=",
                    "\"Walk\""
                  ]
                }
              ]
            }
          ],
          "parameters": []
        },
        {
          "colorB": 228,
          "colorG": 176,
          "colorR": 74,
          "creationTime": 0,
          "name": "Attack",
          "source": "",
          "type": "BuiltinCommonInstructions::Group",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "MELEE attack. Maybe destroy bullets? Some bullets?"
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Or"
                  },
                  "parameters": [],
                  "subInstructions": [
                    {
                      "type": {
                        "value": "MouseButtonFromTextPressed"
                      },
                      "parameters": [
                        "",
                        "controls.keyAttack"
                      ]
                    },
                    {
                      "type": {
                        "value": "Gamepads::C_Button_pressed"
                      },
                      "parameters": [
                        "",
                        "1",
                        "\"X\"",
                        ""
                      ]
                    }
                  ]
                },
                {
                  "type": {
                    "inverted": true,
                    "value": "CompareObjectTimer"
                  },
                  "parameters": [
                    "Player",
                    "\"attackTimer\"",
                    ">=",
                    "0"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ResetObjectTimer"
                  },
                  "parameters": [
                    "Player",
                    "\"attackTimer\""
                  ]
                },
                {
                  "type": {
                    "value": "ActivateBehavior"
                  },
                  "parameters": [
                    "Player",
                    "TopDownMovement",
                    "no"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CompareObjectTimer"
                  },
                  "parameters": [
                    "Player",
                    "\"attackTimer\"",
                    ">=",
                    "0"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "AddForceAL"
                  },
                  "parameters": [
                    "Player",
                    "Player.TopDownMovement::Angle()",
                    "100",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "Cache"
                  },
                  "parameters": [
                    "BSODGun"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CompareObjectTimer"
                  },
                  "parameters": [
                    "Player",
                    "\"attackTimer\"",
                    ">=",
                    "0.1"
                  ]
                },
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Once"
                  },
                  "parameters": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ResetObjectTimer"
                  },
                  "parameters": [
                    "AttackHitbox",
                    "\"attackTimer\""
                  ]
                },
                {
                  "type": {
                    "value": "Arreter"
                  },
                  "parameters": [
                    "Player"
                  ]
                },
                {
                  "type": {
                    "value": "Montre"
                  },
                  "parameters": [
                    "AttackHitbox",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CompareObjectTimer"
                  },
                  "parameters": [
                    "AttackHitbox",
                    "\"attackTimer\"",
                    ">=",
                    "0.3"
                  ]
                },
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Once"
                  },
                  "parameters": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "Cache"
                  },
                  "parameters": [
                    "AttackHitbox"
                  ]
                },
                {
                  "type": {
                    "value": "RemoveObjectTimer"
                  },
                  "parameters": [
                    "Player",
                    "\"attackTimer\""
                  ]
                },
                {
                  "type": {
                    "value": "ActivateBehavior"
                  },
                  "parameters": [
                    "Player",
                    "TopDownMovement",
                    "yes"
                  ]
                },
                {
                  "type": {
                    "value": "SetCenter"
                  },
                  "parameters": [
                    "BSODGun",
                    "=",
                    "Player.PointX(\"Weapon\")",
                    "=",
                    "Player.PointY(\"Weapon\")"
                  ]
                },
                {
                  "type": {
                    "value": "RotateTowardPosition"
                  },
                  "parameters": [
                    "BSODGun",
                    "CursorX()",
                    "CursorY()",
                    "0",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Montre"
                  },
                  "parameters": [
                    "BSODGun",
                    ""
                  ]
                }
              ]
            }
          ],
          "parameters": []
        },
        {
          "colorB": 228,
          "colorG": 176,
          "colorR": 74,
          "creationTime": 0,
          "folded": true,
          "name": "Alt attack",
          "source": "",
          "type": "BuiltinCommonInstructions::Group",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "RANGED attack, limited ammo. Recharges on melee attacks?"
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "MouseButtonFromTextPressed"
                  },
                  "parameters": [
                    "",
                    "controls.keyAltAttack"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "FireBullet::FireBullet::Fire"
                  },
                  "parameters": [
                    "Player",
                    "FireBullet",
                    "Player.CenterX()",
                    "Player.CenterY()",
                    "PlayerBullet",
                    "AngleBetweenPositions(Player.CenterX(),Player.CenterY(),CursorX(),CursorY())",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "TopDownMovementBehavior::MaxSpeed"
                  },
                  "parameters": [
                    "Player",
                    "TopDownMovement",
                    "=",
                    "50"
                  ]
                },
                {
                  "type": {
                    "value": "AnimatableCapability::AnimatableBehavior::SetSpeedScale"
                  },
                  "parameters": [
                    "Player",
                    "Animation",
                    "=",
                    "0.5"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "Gamepads::C_Button_pressed"
                  },
                  "parameters": [
                    "",
                    "1",
                    "\"Y\"",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "FireBullet::FireBullet::Fire"
                  },
                  "parameters": [
                    "Player",
                    "FireBullet",
                    "Player.CenterX()",
                    "Player.CenterY()",
                    "PlayerBullet",
                    "Player.Angle()",
                    "300",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "TopDownMovementBehavior::MaxSpeed"
                  },
                  "parameters": [
                    "Player",
                    "TopDownMovement",
                    "=",
                    "50"
                  ]
                },
                {
                  "type": {
                    "value": "AnimatableCapability::AnimatableBehavior::SetSpeedScale"
                  },
                  "parameters": [
                    "Player",
                    "Animation",
                    "=",
                    "0.5"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "TODO: Add some aiming assist to show the direction the player is targeting. Maybe just spin the character or a small reticule close to the player"
            },
            {
              "disabled": true,
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "Gamepads::C_Button_pressed"
                  },
                  "parameters": [
                    "",
                    "1",
                    "\"Y\"",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "FireBullet::FireBullet::Fire"
                  },
                  "parameters": [
                    "Player",
                    "FireBullet",
                    "Player.CenterX()",
                    "Player.CenterY()",
                    "PlayerBullet",
                    "Gamepads::StickAngle(1,\"Right\")",
                    "300",
                    ""
                  ]
                }
              ]
            }
          ],
          "parameters": []
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "Interact is context dependent"
        },
        {
          "disabled": true,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::Or"
              },
              "parameters": [],
              "subInstructions": [
                {
                  "type": {
                    "value": "KeyFromTextPressed"
                  },
                  "parameters": [
                    "",
                    "controls.keyInteract"
                  ]
                },
                {
                  "type": {
                    "value": "Gamepads::C_Button_pressed"
                  },
                  "parameters": [
                    "",
                    "1",
                    "\"A\"",
                    ""
                  ]
                }
              ]
            }
          ],
          "actions": []
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "KeyFromTextReleased"
              },
              "parameters": [
                "",
                "\"Escape\""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Scene"
              },
              "parameters": [
                "",
                "\"MainMenu\"",
                ""
              ]
            }
          ]
        }
      ],
      "parameters": []
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "folded": true,
      "name": "Player Attacks",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "CollisionNP"
              },
              "parameters": [
                "AttackHitbox",
                "Enemies",
                "",
                "",
                ""
              ]
            },
            {
              "type": {
                "value": "Visible"
              },
              "parameters": [
                "AttackHitbox"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Health::Health::Hit"
              },
              "parameters": [
                "Enemies",
                "Health",
                "Player.meleeDamage",
                "",
                "",
                ""
              ]
            }
          ],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "Health::Health::IsJustDamaged"
                  },
                  "parameters": [
                    "Enemies",
                    "Health",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ResetObjectTimer"
                  },
                  "parameters": [
                    "Minions",
                    "\"knockbackTimer\""
                  ]
                },
                {
                  "type": {
                    "value": "AddForceAL"
                  },
                  "parameters": [
                    "Minions",
                    "Minions.AngleToObject(Player)+180",
                    "200",
                    "1"
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "CollisionNP"
              },
              "parameters": [
                "PlayerBullet",
                "Enemies",
                "",
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Health::Health::Hit"
              },
              "parameters": [
                "Enemies",
                "Health",
                "Player.rangedDamage",
                "",
                "",
                ""
              ]
            }
          ],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "Health::Health::IsJustDamaged"
                  },
                  "parameters": [
                    "Enemies",
                    "Health",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ResetObjectTimer"
                  },
                  "parameters": [
                    "Minions",
                    "\"knockbackTimer\""
                  ]
                },
                {
                  "type": {
                    "value": "AddForceAL"
                  },
                  "parameters": [
                    "Minions",
                    "Player.AngleToObject(PlayerBullet)",
                    "200",
                    "1"
                  ]
                },
                {
                  "type": {
                    "value": "Delete"
                  },
                  "parameters": [
                    "PlayerBullet",
                    ""
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "CollisionNP"
              },
              "parameters": [
                "PlayerBullet",
                "Wall",
                "",
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Delete"
              },
              "parameters": [
                "PlayerBullet",
                ""
              ]
            }
          ]
        }
      ],
      "parameters": []
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [],
      "actions": [
        {
          "type": {
            "value": "BBText::SetBBText"
          },
          "parameters": [
            "TimerDisplay",
            "=",
            "ToString(roundTo(TimerElapsedTime(\"levelTimer\"),2))"
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "CollisionNP"
          },
          "parameters": [
            "Bullet",
            "Wall",
            "",
            "",
            ""
          ]
        }
      ],
      "actions": [
        {
          "type": {
            "value": "Bounce::Bounce::BounceOff"
          },
          "parameters": [
            "Bullet",
            "Bounce",
            "Wall",
            ""
          ]
        }
      ],
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "Bounce::Bounce::BounceCount"
              },
              "parameters": [
                "Bullet",
                "Bounce",
                ">=",
                "2",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Delete"
              },
              "parameters": [
                "Bullet",
                ""
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "CollisionNP"
          },
          "parameters": [
            "Bullet",
            "Player",
            "",
            "",
            ""
          ]
        }
      ],
      "actions": [
        {
          "type": {
            "value": "Health::Health::Hit"
          },
          "parameters": [
            "Player",
            "Health",
            "1",
            "",
            "",
            ""
          ]
        }
      ],
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "Health::Health::IsJustDamaged"
              },
              "parameters": [
                "Player",
                "Health",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ResetObjectTimer"
              },
              "parameters": [
                "Player",
                "\"knockbackTimer\""
              ]
            },
            {
              "type": {
                "value": "ActivateBehavior"
              },
              "parameters": [
                "Player",
                "TopDownMovement",
                "no"
              ]
            },
            {
              "type": {
                "value": "AddForceAL"
              },
              "parameters": [
                "Player",
                "Player.AngleToObject(Bullet)+180",
                "200",
                "1"
              ]
            },
            {
              "type": {
                "value": "Delete"
              },
              "parameters": [
                "Bullet",
                ""
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "CollisionNP"
          },
          "parameters": [
            "EnemyAttack",
            "Player",
            "",
            "",
            ""
          ]
        }
      ],
      "actions": [
        {
          "type": {
            "value": "Health::Health::Hit"
          },
          "parameters": [
            "Player",
            "Health",
            "1",
            "",
            "",
            ""
          ]
        }
      ],
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "Health::Health::IsJustDamaged"
              },
              "parameters": [
                "Player",
                "Health",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ResetObjectTimer"
              },
              "parameters": [
                "Player",
                "\"knockbackTimer\""
              ]
            },
            {
              "type": {
                "value": "ActivateBehavior"
              },
              "parameters": [
                "Player",
                "TopDownMovement",
                "no"
              ]
            },
            {
              "type": {
                "value": "AddForceAL"
              },
              "parameters": [
                "Player",
                "Player.AngleToObject(EnemyAttack)+180",
                "200",
                "1"
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "CompareObjectTimer"
          },
          "parameters": [
            "Player",
            "\"knockbackTimer\"",
            ">=",
            "0.2"
          ]
        },
        {
          "type": {
            "value": "BuiltinCommonInstructions::Once"
          },
          "parameters": []
        }
      ],
      "actions": [
        {
          "type": {
            "value": "RemoveObjectTimer"
          },
          "parameters": [
            "Player",
            "\"knockbackTimer\""
          ]
        },
        {
          "type": {
            "value": "ActivateBehavior"
          },
          "parameters": [
            "Player",
            "TopDownMovement",
            "yes"
          ]
        },
        {
          "type": {
            "value": "Arreter"
          },
          "parameters": [
            "Player"
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "CompareObjectTimer"
          },
          "parameters": [
            "Minions",
            "\"knockbackTimer\"",
            ">=",
            "0.2"
          ]
        },
        {
          "type": {
            "value": "BuiltinCommonInstructions::Once"
          },
          "parameters": []
        }
      ],
      "actions": [
        {
          "type": {
            "value": "RemoveObjectTimer"
          },
          "parameters": [
            "Minions",
            "\"knockbackTimer\""
          ]
        },
        {
          "type": {
            "value": "Arreter"
          },
          "parameters": [
            "Minions"
          ]
        }
      ]
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "name": "Healthbar popup",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "Health::Health::IsJustDamaged"
              },
              "parameters": [
                "Minions",
                "Health",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Create"
              },
              "parameters": [
                "",
                "EnemyHealthBar",
                "Minions.CenterX() - Minions.Width()/2",
                "Minions.CenterY() - Minions.Height()-8",
                ""
              ]
            },
            {
              "type": {
                "value": "Sticker::Sticker::Stick"
              },
              "parameters": [
                "EnemyHealthBar",
                "Sticker",
                "Minions",
                ""
              ]
            },
            {
              "type": {
                "value": "PanelSpriteContinuousBar::PanelSpriteContinuousBar::SetMaxValue"
              },
              "parameters": [
                "EnemyHealthBar",
                "=",
                "Minions.Health::MaxHealth()",
                ""
              ]
            },
            {
              "type": {
                "value": "PanelSpriteContinuousBar::PanelSpriteContinuousBar::SetValue"
              },
              "parameters": [
                "EnemyHealthBar",
                "=",
                "Minions.Health::Health()",
                ""
              ]
            },
            {
              "type": {
                "value": "OpacityCapability::OpacityBehavior::SetValue"
              },
              "parameters": [
                "EnemyHealthBar",
                "Opacity",
                "=",
                "85"
              ]
            },
            {
              "type": {
                "value": "ResetObjectTimer"
              },
              "parameters": [
                "EnemyHealthBar",
                "\"healthBarTimer\""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "CompareObjectTimer"
              },
              "parameters": [
                "EnemyHealthBar",
                "\"healthBarTimer\"",
                ">=",
                "1.5"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Delete"
              },
              "parameters": [
                "EnemyHealthBar",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "Health::Health::IsDamageCooldownActive"
              },
              "parameters": [
                "Bosses",
                "Health",
                ""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "EffectCapability::EffectBehavior::EnableEffect"
              },
              "parameters": [
                "BossHealthBar",
                "Effect",
                "\"Effect\"",
                "yes"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": true,
                "value": "Health::Health::IsDamageCooldownActive"
              },
              "parameters": [
                "Bosses",
                "Health",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "EffectCapability::EffectBehavior::EnableEffect"
              },
              "parameters": [
                "BossHealthBar",
                "Effect",
                "\"Effect\"",
                "no"
              ]
            }
          ]
        }
      ],
      "parameters": []
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "Health::Health::IsDead"
          },
          "parameters": [
            "Minions",
            "Health",
            ""
          ]
        }
      ],
      "actions": [
        {
          "type": {
            "value": "Delete"
          },
          "parameters": [
            "Minions",
            ""
          ]
        }
      ]
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "name": "Player collision, damage and death",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "Health::Health::IsDead"
              },
              "parameters": [
                "Player",
                "Health",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Delete"
              },
              "parameters": [
                "Player",
                ""
              ]
            },
            {
              "type": {
                "value": "Delete"
              },
              "parameters": [
                "BSODGun",
                ""
              ]
            },
            {
              "type": {
                "value": "Wait"
              },
              "parameters": [
                "2"
              ]
            },
            {
              "type": {
                "value": "Scene"
              },
              "parameters": [
                "",
                "currentLevel",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "CollisionNP"
              },
              "parameters": [
                "Player",
                "Wall",
                "",
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SeparateFromObjects"
              },
              "parameters": [
                "Player",
                "Wall",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "CollisionNP"
              },
              "parameters": [
                "Player",
                "Minions",
                "",
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SeparateFromObjects"
              },
              "parameters": [
                "Player",
                "Minions",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "CollisionNP"
              },
              "parameters": [
                "Player",
                "Bosses",
                "",
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SeparateFromObjects"
              },
              "parameters": [
                "Player",
                "Bosses",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "Health::Health::IsDamageCooldownActive"
              },
              "parameters": [
                "Player",
                "Health",
                ""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ChangeBlendMode"
              },
              "parameters": [
                "Player",
                "3"
              ]
            },
            {
              "type": {
                "value": "ChangeColor"
              },
              "parameters": [
                "Player",
                "\"255;255;255\""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": true,
                "value": "Health::Health::IsDamageCooldownActive"
              },
              "parameters": [
                "Player",
                "Health",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ChangeBlendMode"
              },
              "parameters": [
                "Player",
                "0"
              ]
            },
            {
              "type": {
                "value": "ChangeColor"
              },
              "parameters": [
                "Player",
                "\"255;255;255\""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "Health::Health::IsJustDamaged"
              },
              "parameters": [
                "Player",
                "Health",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "CameraShake::ShakeCamera"
              },
              "parameters": [
                "",
                "0.3",
                "0",
                "0.1",
                ""
              ]
            }
          ]
        }
      ],
      "parameters": []
    }
  ]
}